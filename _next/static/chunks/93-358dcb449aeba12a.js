"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[93],{4093:function(t,e,s){let i;s.d(e,{a:function(){return tl}});var a,h,n,r,o,l,u,c,d,_,p,f,v,b,w,y,R,k,O,C,g,S,m,W=s(7137),M=s(3095),E=s(363),N=s(7656),U=s(6395),Q=s(4234),F=s(2434),D=s(4801),P=s(4041),T=s(2149),x=(a=new WeakMap,h=new WeakMap,n=new WeakMap,r=new WeakMap,o=new WeakMap,l=new WeakMap,u=new WeakMap,c=new WeakMap,d=new WeakMap,_=new WeakMap,p=new WeakMap,f=new WeakMap,v=new WeakMap,b=new WeakMap,w=new WeakSet,y=new WeakSet,R=new WeakSet,k=new WeakSet,O=new WeakSet,C=new WeakSet,g=new WeakSet,S=new WeakSet,m=new WeakSet,class extends P.l{bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&((0,W._)(this,h).addObserver(this),I((0,W._)(this,h),this.options)?(0,N._)(this,w,V).call(this):this.updateResult(),(0,N._)(this,O,B).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return L((0,W._)(this,h),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return L((0,W._)(this,h),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,(0,N._)(this,C,H).call(this),(0,N._)(this,g,Z).call(this),(0,W._)(this,h).removeObserver(this)}setOptions(t,e){let s=this.options,i=(0,W._)(this,h);if(this.options=(0,W._)(this,a).defaultQueryOptions(t),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof(0,Q.Nc)(this.options.enabled,(0,W._)(this,h)))throw Error("Expected enabled to be a boolean or a callback that returns a boolean");(0,N._)(this,S,G).call(this),(0,W._)(this,h).setOptions(this.options),s._defaulted&&!(0,Q.VS)(this.options,s)&&(0,W._)(this,a).getQueryCache().notify({type:"observerOptionsUpdated",query:(0,W._)(this,h),observer:this});let n=this.hasListeners();n&&q((0,W._)(this,h),i,this.options,s)&&(0,N._)(this,w,V).call(this),this.updateResult(e),n&&((0,W._)(this,h)!==i||(0,Q.Nc)(this.options.enabled,(0,W._)(this,h))!==(0,Q.Nc)(s.enabled,(0,W._)(this,h))||(0,Q.KC)(this.options.staleTime,(0,W._)(this,h))!==(0,Q.KC)(s.staleTime,(0,W._)(this,h)))&&(0,N._)(this,y,j).call(this);let r=(0,N._)(this,R,A).call(this);n&&((0,W._)(this,h)!==i||(0,Q.Nc)(this.options.enabled,(0,W._)(this,h))!==(0,Q.Nc)(s.enabled,(0,W._)(this,h))||r!==(0,W._)(this,v))&&(0,N._)(this,k,z).call(this,r)}getOptimisticResult(t){let e=(0,W._)(this,a).getQueryCache().build((0,W._)(this,a),t),s=this.createResult(e,t);return(0,Q.VS)(this.getCurrentResult(),s)||((0,E._)(this,r,s),(0,E._)(this,l,this.options),(0,E._)(this,o,(0,W._)(this,h).state)),s}getCurrentResult(){return(0,W._)(this,r)}trackResult(t,e){let s={};return Object.keys(t).forEach(i=>{Object.defineProperty(s,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),null==e||e(i),t[i])})}),s}trackProp(t){(0,W._)(this,b).add(t)}getCurrentQuery(){return(0,W._)(this,h)}refetch(){let{...t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.fetch({...t})}fetchOptimistic(t){let e=(0,W._)(this,a).defaultQueryOptions(t),s=(0,W._)(this,a).getQueryCache().build((0,W._)(this,a),e);return s.isFetchingOptimistic=!0,s.fetch().then(()=>this.createResult(s,e))}fetch(t){var e;return(0,N._)(this,w,V).call(this,{...t,cancelRefetch:null===(e=t.cancelRefetch)||void 0===e||e}).then(()=>(this.updateResult(),(0,W._)(this,r)))}createResult(t,e){let s;let i=(0,W._)(this,h),a=this.options,p=(0,W._)(this,r),f=(0,W._)(this,o),v=(0,W._)(this,l),b=t!==i?t.state:(0,W._)(this,n),{state:w}=t,y={...w},R=!1;if(e._optimisticResults){let s=this.hasListeners(),h=!s&&I(t,e),n=s&&q(t,i,e,a);(h||n)&&(y={...y,...(0,T.z)(w.data,t.options)}),"isRestoring"===e._optimisticResults&&(y.fetchStatus="idle")}let{error:k,errorUpdatedAt:O,status:C}=y;if(e.select&&void 0!==y.data){if(p&&y.data===(null==f?void 0:f.data)&&e.select===(0,W._)(this,c))s=(0,W._)(this,d);else try{(0,E._)(this,c,e.select),s=e.select(y.data),s=(0,Q.oE)(null==p?void 0:p.data,s,e),(0,E._)(this,d,s),(0,E._)(this,u,null)}catch(t){(0,E._)(this,u,t)}}else s=y.data;if(void 0!==e.placeholderData&&void 0===s&&"pending"===C){let t;if((null==p?void 0:p.isPlaceholderData)&&e.placeholderData===(null==v?void 0:v.placeholderData))t=p.data;else{var g;if(t="function"==typeof e.placeholderData?e.placeholderData(null===(g=(0,W._)(this,_))||void 0===g?void 0:g.state.data,(0,W._)(this,_)):e.placeholderData,e.select&&void 0!==t)try{t=e.select(t),(0,E._)(this,u,null)}catch(t){(0,E._)(this,u,t)}}void 0!==t&&(C="success",s=(0,Q.oE)(null==p?void 0:p.data,t,e),R=!0)}(0,W._)(this,u)&&(k=(0,W._)(this,u),s=(0,W._)(this,d),O=Date.now(),C="error");let S="fetching"===y.fetchStatus,m="pending"===C,M="error"===C,N=m&&S,U=void 0!==s;return{status:C,fetchStatus:y.fetchStatus,isPending:m,isSuccess:"success"===C,isError:M,isInitialLoading:N,isLoading:N,data:s,dataUpdatedAt:y.dataUpdatedAt,error:k,errorUpdatedAt:O,failureCount:y.fetchFailureCount,failureReason:y.fetchFailureReason,errorUpdateCount:y.errorUpdateCount,isFetched:y.dataUpdateCount>0||y.errorUpdateCount>0,isFetchedAfterMount:y.dataUpdateCount>b.dataUpdateCount||y.errorUpdateCount>b.errorUpdateCount,isFetching:S,isRefetching:S&&!m,isLoadingError:M&&!U,isPaused:"paused"===y.fetchStatus,isPlaceholderData:R,isRefetchError:M&&U,isStale:K(t,e),refetch:this.refetch}}updateResult(t){let e=(0,W._)(this,r),s=this.createResult((0,W._)(this,h),this.options);if((0,E._)(this,o,(0,W._)(this,h).state),(0,E._)(this,l,this.options),void 0!==(0,W._)(this,o).data&&(0,E._)(this,_,(0,W._)(this,h)),(0,Q.VS)(s,e))return;(0,E._)(this,r,s);let i={};(null==t?void 0:t.listeners)!==!1&&(()=>{if(!e)return!0;let{notifyOnChangeProps:t}=this.options,s="function"==typeof t?t():t;if("all"===s||!s&&!(0,W._)(this,b).size)return!0;let i=new Set(null!=s?s:(0,W._)(this,b));return this.options.throwOnError&&i.add("error"),Object.keys((0,W._)(this,r)).some(t=>(0,W._)(this,r)[t]!==e[t]&&i.has(t))})()&&(i.listeners=!0),(0,N._)(this,m,J).call(this,{...i,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&(0,N._)(this,O,B).call(this)}constructor(t,e){super(),(0,U._)(this,w),(0,U._)(this,y),(0,U._)(this,R),(0,U._)(this,k),(0,U._)(this,O),(0,U._)(this,C),(0,U._)(this,g),(0,U._)(this,S),(0,U._)(this,m),(0,M._)(this,a,{writable:!0,value:void 0}),(0,M._)(this,h,{writable:!0,value:void 0}),(0,M._)(this,n,{writable:!0,value:void 0}),(0,M._)(this,r,{writable:!0,value:void 0}),(0,M._)(this,o,{writable:!0,value:void 0}),(0,M._)(this,l,{writable:!0,value:void 0}),(0,M._)(this,u,{writable:!0,value:void 0}),(0,M._)(this,c,{writable:!0,value:void 0}),(0,M._)(this,d,{writable:!0,value:void 0}),(0,M._)(this,_,{writable:!0,value:void 0}),(0,M._)(this,p,{writable:!0,value:void 0}),(0,M._)(this,f,{writable:!0,value:void 0}),(0,M._)(this,v,{writable:!0,value:void 0}),(0,M._)(this,b,{writable:!0,value:void 0}),(0,E._)(this,h,void 0),(0,E._)(this,n,void 0),(0,E._)(this,r,void 0),(0,E._)(this,b,new Set),this.options=e,(0,E._)(this,a,t),(0,E._)(this,u,null),this.bindMethods(),this.setOptions(e)}});function I(t,e){return!1!==(0,Q.Nc)(e.enabled,t)&&void 0===t.state.data&&!("error"===t.state.status&&!1===e.retryOnMount)||void 0!==t.state.data&&L(t,e,e.refetchOnMount)}function L(t,e,s){if(!1!==(0,Q.Nc)(e.enabled,t)){let i="function"==typeof s?s(t):s;return"always"===i||!1!==i&&K(t,e)}return!1}function q(t,e,s,i){return(t!==e||!1===(0,Q.Nc)(i.enabled,t))&&(!s.suspense||"error"!==t.state.status)&&K(t,s)}function K(t,e){return!1!==(0,Q.Nc)(e.enabled,t)&&t.isStaleByTime((0,Q.KC)(e.staleTime,t))}function V(t){(0,N._)(this,S,G).call(this);let e=(0,W._)(this,h).fetch(this.options,t);return(null==t?void 0:t.throwOnError)||(e=e.catch(Q.ZT)),e}function j(){(0,N._)(this,C,H).call(this);let t=(0,Q.KC)(this.options.staleTime,(0,W._)(this,h));if(Q.sk||(0,W._)(this,r).isStale||!(0,Q.PN)(t))return;let e=(0,Q.Kp)((0,W._)(this,r).dataUpdatedAt,t);(0,E._)(this,p,setTimeout(()=>{(0,W._)(this,r).isStale||this.updateResult()},e+1))}function A(){var t;return null!==(t="function"==typeof this.options.refetchInterval?this.options.refetchInterval((0,W._)(this,h)):this.options.refetchInterval)&&void 0!==t&&t}function z(t){(0,N._)(this,g,Z).call(this),(0,E._)(this,v,t),!Q.sk&&!1!==(0,Q.Nc)(this.options.enabled,(0,W._)(this,h))&&(0,Q.PN)((0,W._)(this,v))&&0!==(0,W._)(this,v)&&(0,E._)(this,f,setInterval(()=>{(this.options.refetchIntervalInBackground||D.j.isFocused())&&(0,N._)(this,w,V).call(this)},(0,W._)(this,v)))}function B(){(0,N._)(this,y,j).call(this),(0,N._)(this,k,z).call(this,(0,N._)(this,R,A).call(this))}function H(){(0,W._)(this,p)&&(clearTimeout((0,W._)(this,p)),(0,E._)(this,p,void 0))}function Z(){(0,W._)(this,f)&&(clearInterval((0,W._)(this,f)),(0,E._)(this,f,void 0))}function G(){let t=(0,W._)(this,a).getQueryCache().build((0,W._)(this,a),this.options);if(t===(0,W._)(this,h))return;let e=(0,W._)(this,h);(0,E._)(this,h,t),(0,E._)(this,n,t.state),this.hasListeners()&&(null==e||e.removeObserver(this),t.addObserver(this))}function J(t){F.V.batch(()=>{t.listeners&&this.listeners.forEach(t=>{t((0,W._)(this,r))}),(0,W._)(this,a).getQueryCache().notify({query:(0,W._)(this,h),type:"observerResultsUpdated"})})}var X=s(1441);s(4454);var Y=X.createContext((i=!1,{clearReset:()=>{i=!1},reset:()=>{i=!0},isReset:()=>i})),$=()=>X.useContext(Y),tt=s(7067),te=X.createContext(!1),ts=()=>X.useContext(te);te.Provider;var ti=(t,e)=>{(t.suspense||t.throwOnError)&&!e.isReset()&&(t.retryOnMount=!1)},ta=t=>{X.useEffect(()=>{t.clearReset()},[t])},th=t=>{var e;let{result:s,errorResetBoundary:i,throwOnError:a,query:h}=t;return s.isError&&!i.isReset()&&!s.isFetching&&h&&(e=[s.error,h],"function"==typeof a?a(...e):!!a)},tn=t=>{t.suspense&&"number"!=typeof t.staleTime&&(t.staleTime=1e3)},tr=(t,e)=>(null==t?void 0:t.suspense)&&e.isPending,to=(t,e,s)=>e.fetchOptimistic(t).catch(()=>{s.clearReset()});function tl(t,e){return function(t,e,s){var i,a,h,n;let r=(0,tt.NL)(s),o=ts(),l=$(),u=r.defaultQueryOptions(t);null===(a=r.getDefaultOptions().queries)||void 0===a||null===(i=a._experimental_beforeQuery)||void 0===i||i.call(a,u),u._optimisticResults=o?"isRestoring":"optimistic",tn(u),ti(u,l),ta(l);let[c]=X.useState(()=>new e(r,u)),d=c.getOptimisticResult(u);if(X.useSyncExternalStore(X.useCallback(t=>{let e=o?()=>void 0:c.subscribe(F.V.batchCalls(t));return c.updateResult(),e},[c,o]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),X.useEffect(()=>{c.setOptions(u,{listeners:!1})},[u,c]),tr(u,d))throw to(u,c,l);if(th({result:d,errorResetBoundary:l,throwOnError:u.throwOnError,query:r.getQueryCache().get(u.queryHash)}))throw d.error;return null===(n=r.getDefaultOptions().queries)||void 0===n||null===(h=n._experimental_afterQuery)||void 0===h||h.call(n,u,d),u.notifyOnChangeProps?d:c.trackResult(d)}(t,x,e)}}}]);